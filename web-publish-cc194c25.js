import{y as t,o as e,a7 as a,A as r}from"./app-index-f96a4530.js";let s=!1;async function o(){const o=(await t()).manifest,n=e(),i=a(),c=r.webPackageGeneratorFormUrl;let l;const f=function(t){const e=new FormData,a=Object.keys(t),r=a.length;for(let s=0;s<r;s++){const r=a[s];let o=t[r];if(Array.isArray(o)){const t=o.length;for(let a=0;a<t;a++){let t=o[a];"object"==typeof t&&(t=JSON.stringify(t)),e.append(r,t)}}else{if("object"==typeof o&&(o=JSON.stringify(o)),null==o||""===o)continue;e.append(r,o)}}return e}(o);l=i?`${c}?siteUrl=${n}&swId=${i}&hasServiceWorker=false`:`${c}?siteUrl=${n}&hasServiceWorker=true`;const p=await fetch(l,{method:"POST",body:f});if(200===p.status){const t=await p.blob();return s=!0,t}{const t=await p.text();throw new Error(`Unable to generate base package. Status code ${p.status}, Error: ${p.statusText}, Details: ${t}, Form Data: ${f}`)}}export{o as g,s as h};
